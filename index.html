<html>
    <head>
        <meta name="theme-color" content="#ffffff">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1">

        <link rel="manifest" href="https://moeelias.com/static/site.webmanifest">
        <link rel="mask-icon" href="https://moeelias.com/static/safari-pinned-tab.svg" color="#5bbad5">
        <link rel="apple-touch-icon" sizes="180x180" href="https://moeelias.com/static/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="https://moeelias.com/static/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="https://moeelias.com/static/favicon-16x16.png">

        <title>
            Moe Elias
        </title>
        <style>
            @font-face {
                font-family: mochi;
                src: url("./font/MochiyPopOne-Regular.ttf")
            }

            body {
                margin: 0;
                height: 100%;
                flex-direction: column;
                background-color: #000000;
                background-position: center; 
                background-attachment: fixed;
                background-repeat: no-repeat;
                background-size: cover;
                -o-background-size: cover;
                -moz-background-size: cover;
                -webkit-background-size: cover;
                justify-content: space-between;
                background-image: url("./prints/22.jpg");
            }
           
            a {
                padding: 8px;
                color: #9CFF89;
                font-size: 4vw;
                align-self: center;
                text-decoration: none;
                background: rgba(0,0,0,0.9);
                font-family: "mochi", Arial;
            }

            #header {
                display: flex;
                padding: 24px;
                padding-bottom: 0;
                flex-wrap: nowrap;
                align-self: center;
            }

            .gallery-image {
                width: auto;
                max-height: 300px;
                border: 8px solid black;
                transition: transform .1s;
            }

            .gallery-image:hover {
                transform: scale(1.2);
            }

            .gallery-image-container {
                padding: 16px;
                display: inline-block;
            }

            .close {
                top: 10px;
                right: 25px;
                color: white;
                font-size: 35px;
                font-weight: bold;
                position: absolute;
            }

            .close:hover,.close:focus {
                color: #999;
                cursor: pointer;
                text-decoration: none;
            }

            ul {
                display: flex;
                position: fixed;
                list-style: none;
                flex-direction: column;
                padding-inline-start: 0;
            }

            li {
                padding: 24px;
                padding-left: 36px;
                cursor: pointer;
            }

            li:first-child {
                padding-top: 0;
            }

            .right-section-container {
                display: flex;
            }

            .left-section {
                flex: .5;
                z-index: 0;
                padding-top: 48px;
            }
            
            .right-section {
                flex: 1;
                z-index: 1;
                padding: 1rem;
                padding-top: 48px;
                padding-right: 48px;
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            @media (max-width: 768px) {
                a {
                    font-size: 9vw;
                }
            }
        </style>
    </head>

    <body>
        <main>
            <article>
                <div class="right-section-container">
                    <div class="left-section">
                        <ul class="menu">
                            <li><a id="music-btn" class="nav-btn" href="https://moeeliasmusic.bandcamp.com">Music</a></li>
                            <li><a id="prints-btn" class="nav-btn">Prints</a></li>
                            <li><a id="contact-btn" class="nav-btn" href="mailto: allthese.isms@gmail.com?subject=Hello">Contact</a></li>
                        </ul>
                    </div>

                    <div class="right-section">
                    </div>
                </div>
            </article>
        </main>
    </body>

    <script>
        const STATE = {};

        const NUM_PRINTS = 22;

        document.querySelectorAll(".nav-btn").forEach(el => {
            el.addEventListener("mouseenter", e => e.target.style.color = "#3e6636");

            el.addEventListener("mouseleave", e => {
                if (!STATE  || !STATE.buttonId || e.target.id != STATE.buttonId) {
                    e.target.style.color = "#9CFF89";
                }
            });
        });

        document.getElementById("prints-btn").addEventListener("click", () => {
            showPrintsGallery();
        });

        document.getElementsByClassName("right-section")[0].addEventListener("click", e => {
            if (e.target.classList.contains('gallery-image')
                || e.target.classList.contains('blown-up-img')
                || e.target.id == "right-section-body") {
                return;
            }

            resetSectionSelection();
        });
       
        document.addEventListener("click", e => {
            if (e && e.target.classList.contains('blown-up-img')) {
                return;
            } else if (e && e.target.classList.contains('gallery-image')) {
                displayBlownUpImage(e);
            } else if (e && e.target.classList.contains('left-section')) {
                resetSectionSelection();
            }
        });

        function resetSectionSelection() {
            setRightSection();
            resetButtonSelection("prints-btn");
        }

        function displayBlownUpImage(e) {
            let img = document.createElement('img');
            img.style.width = "50%";
            img.style.border = "8px solid black";
            img.src = `prints/${e.target.dataset.id}.jpg`;
            img.classList.add("blown-up-img");

            setRightSection();
            document.getElementsByClassName("right-section")[0].prepend(img);
        }

        function showPrintsGallery() {
            let imgIds = [];
            let imgElStrs = [];

            for (let i = 1; i <= NUM_PRINTS; i++) {
                imgIds.push(i);
            }

            shuffleArray(imgIds);

            for (let i of imgIds) {
                imgElStrs.push(`
                    <div class="gallery-image-container">
                       <img 
                            alt="pattern-${i}"
                            data-id="${i}"
                            class="gallery-image"
                            src="prints/${i}.jpg"
                            style="cursor: pointer;" />
                    </div>
                `);
            }

            setRightSection(imgElStrs.join("\n"))

            showButtonAsSelected("prints-btn");
        }

        function shuffleArray(array) {
            for (var i = array.length - 1; i > 0; i--) {
                var j = Math.floor(Math.random() * (i + 1));
                var temp = array[i];
                array[i] = array[j];
                array[j] = temp;
            }
        }

        function setRightSection(s = "") {
            document.getElementsByClassName("right-section")[0].innerHTML = s;
        }

        function showButtonAsSelected(buttonId) {
            STATE.buttonId = buttonId;
            document.getElementById(buttonId).style.color = "#3e6636";
        }

        function resetButtonSelection(buttonId) {
            STATE.buttonId = "";
            document.getElementById(buttonId).style.color = "#9CFF89";
        }
    </script>

</html>
